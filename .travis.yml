before_install:
    - export TARGET_VERSION="2.1.0-$TRAVIS_BRANCH"
    - find /scripts/ -type d -exec chmod 755 {} +
    - find /verzeichnis/ -type f -exec chmod 644 {} +
    - ./scripts/getDependencies.sh
    - ./scripts/versioning.sh

notifications:
  email: false
language: java
jdk:
- oraclejdk8

before_deploy:
    - ./tagReleases.sh

deploy:
    provider: releases
    prerelease: true
    skip_cleanup: true
    name: "RandomCoords Build $TRAVIS_BUILD_NUMBER"
    body: "### Generated by Travis-CI on $(date +'%F-%T')<br>Branch: [$TRAVIS_BRANCH](https://github.com/$TRAVIS_REPO_SLUG/tree/$TRAVIS_BRANCH)<br>Commitmessage: [$TRAVIS_COMMIT_MESSAGE](https://github.com/$TRAVIS_REPO_SLUG/commit/$TRAVIS_COMMIT)<br>Commit ID: $TRAVIS_COMMIT"
    draft: false
    api_key: $GITPERM
    file:
        - "target/RandomCoordinates-2.1.0.jar"
    on:
        tags: false
        all_branches: true
        repo: $TRAVIS_REPO_SLUG

branches:
    only:
    - master
